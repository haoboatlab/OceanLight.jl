<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Monte Carlo Simulation · OceanLight.jl</title><meta name="title" content="Monte Carlo Simulation · OceanLight.jl"/><meta property="og:title" content="Monte Carlo Simulation · OceanLight.jl"/><meta property="twitter:title" content="Monte Carlo Simulation · OceanLight.jl"/><meta name="description" content="Documentation for OceanLight.jl."/><meta property="og:description" content="Documentation for OceanLight.jl."/><meta property="twitter:description" content="Documentation for OceanLight.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">OceanLight.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Quick Start</span><ul><li><a class="tocitem" href="../../QuickStart/Center/">Photons at the center</a></li></ul></li><li><span class="tocitem">Module</span><ul><li><a class="tocitem" href="../Parameters/">Parameters</a></li><li><a class="tocitem" href="../refraction/">Refraction</a></li><li class="is-active"><a class="tocitem" href>Monte Carlo Simulation</a><ul class="internal"><li><a class="tocitem" href="#The-optical-path-length"><span>The optical path length</span></a></li><li><a class="tocitem" href="#Sampling-photon-interaction-type"><span>Sampling photon interaction type</span></a></li><li><a class="tocitem" href="#Sampling-scattering-direction"><span>Sampling scattering direction</span></a></li><li><a class="tocitem" href="#Reference"><span>Reference</span></a></li></ul></li></ul></li><li><span class="tocitem">Simulation</span><ul><li><a class="tocitem" href="../../Simulation/ModelSetup/">Model Setup</a></li><li><a class="tocitem" href="../../Simulation/AirWaveInteract/">Air-Water Interaction</a></li><li><a class="tocitem" href="../../Simulation/WithinWater/">Light within Water</a></li><li><a class="tocitem" href="../../Simulation/Exporting/">Exporting data</a></li></ul></li><li><a class="tocitem" href="../../reference/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Module</a></li><li class="is-active"><a href>Monte Carlo Simulation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Monte Carlo Simulation</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/haoboatlab/OceanLight.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/haoboatlab/OceanLight.jl/blob/main/docs/src/module/MonteCarlo.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Fundamental-Principle-of-Monte-Carlo-simulation"><a class="docs-heading-anchor" href="#Fundamental-Principle-of-Monte-Carlo-simulation">Fundamental Principle of Monte Carlo simulation</a><a id="Fundamental-Principle-of-Monte-Carlo-simulation-1"></a><a class="docs-heading-anchor-permalink" href="#Fundamental-Principle-of-Monte-Carlo-simulation" title="Permalink"></a></h1><p>The basis of Monte Carlo method lies in the idea that, if we know the probability of occurence of each separate event in a sequence of events, then we can determine the probability that the entire sequence of events will occur <sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup>. In the simulation of light within the water, each photon, after being transmitted into the water, travels in the medium, interacts with the molecule: absorb and scatter, and either being fully absorbed or reaches the measurement devices. With the multiple photons, we can determine the distribution of the light field. </p><p><img src="https://raw.githubusercontent.com/haoboatlab/OceanLight.jl/main/docs/src/assets/IllustrationOfMonteCarloMethod.png" alt="Illustration"/></p><p><em>Illustration of three photons that are being emitted and travel inside the water medium</em><sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup></p><p>As mentioned above, the separate event that happens for each photon is consisted of travelling some distance in the medium, aborbing, and scattering. All of the events are determined by some probability. Hence, we define the probability distribution of a random number <span>$p_{\Re}$</span><sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup></p><p class="math-container">\[p_{\Re} (\Re) \equiv \begin{cases}
1 &amp; \quad 0 \leq \Re \leq 1, \\
0 &amp; \quad \Re &lt; 0 \cup \Re &lt; 1.
\end{cases}\]</p><h2 id="The-optical-path-length"><a class="docs-heading-anchor" href="#The-optical-path-length">The optical path length</a><a id="The-optical-path-length-1"></a><a class="docs-heading-anchor-permalink" href="#The-optical-path-length" title="Permalink"></a></h2><p>After the photon&#39;s interaction with the medium or being transmitted into the water, we calculate for the distance the photon would travel before interact with the medium again. The distance <span>$r$</span> is defined by the equation below, when <span>$c$</span> is the beam attenuated coefficient or the addition of absorbtance coefficient <span>$a$</span> and scatterance coefficient <span>$b$</span>. <sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup></p><p class="math-container">\[r=-\frac{1}{c}\ln{\Re}\]</p><h2 id="Sampling-photon-interaction-type"><a class="docs-heading-anchor" href="#Sampling-photon-interaction-type">Sampling photon interaction type</a><a id="Sampling-photon-interaction-type-1"></a><a class="docs-heading-anchor-permalink" href="#Sampling-photon-interaction-type" title="Permalink"></a></h2><p>Once the photon travels for distance <span>$r$</span>, we then determine how it interacts with the medium; e.g. whether a photon will be absorbed or scattered. This can be done by drawing a random number <span>$\Re$</span> and compare with the albedo of single scattering <span>$\omega_{0} = \frac{b}{c}$</span>, if  <span>$\Re\leq\omega_{0}$</span>, the photon is being absorbed, and if <span>$\Re\geq\omega_{0}$</span>, the photon is being scattered. <sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup></p><h2 id="Sampling-scattering-direction"><a class="docs-heading-anchor" href="#Sampling-scattering-direction">Sampling scattering direction</a><a id="Sampling-scattering-direction-1"></a><a class="docs-heading-anchor-permalink" href="#Sampling-scattering-direction" title="Permalink"></a></h2><p>In the scattering event, we will calculate the scattering direction of the photon in the local spherical coordinate with azimuthal angle <span>$\varphi$</span> and polar angle <span>$\theta$</span>. Azimuthal angle <span>$\varphi$</span> is uniformly distribute between 0 and <span>$2\pi$</span> hence, <sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup></p><p class="math-container">\[\varphi = 2\pi\Re\]</p><p>The angle between new trajectory and the direction before scattering <span>$\theta$</span> is defined by the cumulative distribution, based on the experiment conducted by the Petzold (1972). <sup class="footnote-reference"><a id="citeref-2" href="#footnote-2">[2]</a></sup></p><p><img src="https://raw.githubusercontent.com/haoboatlab/OceanLight.jl/main/docs/src/assets/CDF_scattering_angle.png" alt="CDF"/></p><p><em>Cumulative Distribution Function of the polar angle or the angle between new trajectory and the direction before scattering <span>$\theta$</span> based on the data from Kirk(1981)</em><sup class="footnote-reference"><a id="citeref-3" href="#footnote-3">[3]</a></sup></p><p>Hence, we draw a random number <span>$\Re$</span> and find the corresponding polar angle <span>$\theta$</span> from the cumulative distribution function.</p><h2 id="Reference"><a class="docs-heading-anchor" href="#Reference">Reference</a><a id="Reference-1"></a><a class="docs-heading-anchor-permalink" href="#Reference" title="Permalink"></a></h2><section class="footnotes is-size-7"><ul><li class="footnote" id="footnote-1"><a class="tag is-link" href="#citeref-1">1</a>Mobley, C. (1994). Monte Carlo Methods. <em>Light and Water: Radiative Transfer in Natural Waters</em> (pp. 321-326). Academic Press.  </li><li class="footnote" id="footnote-2"><a class="tag is-link" href="#citeref-2">2</a>Petzold, T. J. (1972). Volume Scattering Functions for Selected Ocean Waters. UC San Diego: Scripps Institution of Oceanography. Retrieved from https://escholarship.org/uc/item/73p3r43q</li><li class="footnote" id="footnote-3"><a class="tag is-link" href="#citeref-3">3</a>Kirk, J. T. O. (1981). Monte Carlo procedure for simulating the penetration of light into natural waters. In Technical paper - Commonwealth Scientific and Industrial Research Organization (Vol. 36).</li></ul></section></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../refraction/">« Refraction</a><a class="docs-footer-nextpage" href="../../Simulation/ModelSetup/">Model Setup »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Tuesday 9 September 2025 23:06">Tuesday 9 September 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
